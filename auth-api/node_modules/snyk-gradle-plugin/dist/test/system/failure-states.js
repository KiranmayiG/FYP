"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var common_1 = require("../common");
var tap_1 = require("tap");
var lib_1 = require("../../lib");
var rootNoWrapper = common_1.fixtureDir('no wrapper');
tap_1.test('malformed build.gradle', function (t) {
    t.plan(1);
    t.rejects(lib_1.inspect('.', path.join(common_1.fixtureDir('malformed-build-gradle'), 'build.gradle'), { args: ['--configuration', 'compileOnly'] }), /unexpected token/);
});
tap_1.test('failing inspect()', function (t) {
    t.plan(1);
    common_1.stubSubProcessExec(t);
    t.rejects(lib_1.inspect('.', path.join(rootNoWrapper, 'build.gradle')));
});
tap_1.test('multi-project: error on missing subproject', function (t) {
    var options = {
        'gradle-sub-project': 'wrongsubproj',
    };
    t.plan(1);
    t.rejects(lib_1.inspect('.', path.join(common_1.fixtureDir('multi-project'), 'build.gradle'), options), 'Specified sub-project not found: "wrongsubproj"', 'error message is as expected');
});
//# sourceMappingURL=failure-states.js.map