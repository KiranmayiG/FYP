"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var os = require("os");
var sinon_1 = require("sinon");
var subProcess = require("../lib/sub-process");
function fixtureDir(f) {
    // Assuming current directory is ./dist/test
    return path.join(__dirname, './fixtures', f);
}
exports.fixtureDir = fixtureDir;
function stubPlatform(platform, t) {
    sinon_1.stub(os, 'platform')
        .callsFake(function () {
        return platform;
    });
    t.teardown(os.platform.restore);
}
exports.stubPlatform = stubPlatform;
function stubSubProcessExec(t) {
    sinon_1.stub(subProcess, 'execute')
        .callsFake(function () {
        return Promise.reject(new Error('abort'));
    });
    t.teardown(subProcess.execute.restore);
}
exports.stubSubProcessExec = stubSubProcessExec;
//# sourceMappingURL=common.js.map