<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

		<title>Eden School</title>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
		<!-- <link rel="stylesheet" href="css/bootstrap.min.css"> -->

		<!-- Google font -->
		<link href="https://fonts.googleapis.com/css?family=Lato:700%7CMontserrat:400,600" rel="stylesheet">
		<!-- Font Awesome Icon -->
		<link rel="stylesheet" href="css/font-awesome.min.css">
		<!-- Custom stlylesheet -->
		<link type="text/css" rel="stylesheet" href="css/style.css"/>

    </head>
	<body>

<!-- Header -->
<header id="header" class="transparent-nav">
	<div class="container">

		<div class="navbar-header">


			<!-- Mobile toggle -->
			<button class="navbar-toggle">
				<span></span>
			</button>
			<!-- /Mobile toggle -->
		</div>

			<!-- Navigation -->
			<nav id="nav">
				<ul class="main-menu nav navbar-nav navbar-right">
					<li><a href="index.html">Home</a></li>
					<li><a href="#">About</a></li>
					<li><a href="#">Courses</a></li>
					<li><a href="#">Department</a></li>
					<li id="login"><a data-toggle='modal' data-target='#login_modal'>Login</a></li>
					<li id="logout" style="display:none"><a href='api/logout'>Logout</a></li>
					<li><a href="contact.html">Contact Us</a></li>
					<li id="view_details" style="display:none"><a href="view_details.html">View Details</a></li>
					<li id='upload_li' style="display:none" class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown">Upload
                  <span class="caret"></span></a>
              <ul class="dropdown-menu">
                  <li><a data-toggle='modal' data-target='#upload_assignment_modal' style="color:grey">Assignments</a></li>
                  <li><a data-toggle='modal' data-target='#upload_notes_modal' style="color:grey">Notes</a></li>
                  <li><a data-toggle='modal' data-target='#upload_videos_modal' style="color:grey">Videos</a></li>
              </ul>
          </li>
<!-- //saloni's edit for adding from admin's end -->

					<li id='add_li' style="display:none" class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown">Add New
                  <span class="caret"></span></a>
              <ul class="dropdown-menu">
								<li><a data-toggle='modal' data-target='#add_event_modal' style="color:grey">Event</a></li>
								<li><a data-toggle='modal' data-target='#add_course_modal' style="color:grey">Course</a></li>
								<li><a data-toggle='modal' data-target='#add_department_modal' style="color:grey">Department</a></li>
              </ul>
          </li>
				<!-- Saloni's edit to add end
				saloni's update couse, department edits -->

				<li id='update_li' style="display:none" class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown">Update existing
								<span class="caret"></span></a>
						<ul class="dropdown-menu">
								<li><a data-toggle='modal' data-target='#update_event_modal' style="color:grey">Event</a></li>
								<li><a data-toggle='modal' data-target='#update_course_modal' style="color:grey">Course</a></li>
								<li><a data-toggle='modal' data-target='#update_department_modal' style="color:grey">Department</a></li>
						</ul>
				</li>

				</ul>
			</nav>
			<!-- /Navigation -->


	</div>
</header>

<!-- include login modal -->
<div id="include_login_modal"></div>

<!-- include uplaod modal -->
<div id="include_assignment_modal"></div>

<!-- include notes modal -->
<div id="include_notes_modal"></div>

<!-- include videos modal -->
<div id="include_videos_modal"></div>

<!-- include add_course modal -->
<div id="include_add_course_modal"></div>

<!-- include add_department modal -->
<div id="include_add_department_modal"></div>

<!-- include add_event modal -->
<div id="include_add_event_modal"></div>

<!-- include update_course modal -->
<div id="include_update_course_modal"></div>

<!-- include update_department modal -->
<div id="include_update_department_modal"></div>

<!-- include update_event modal -->
<div id="include_update_event_modal"></div>

<!-- /Header -->


<!-- Home -->
<div id="home" class="hero-area">

	<!-- Backgound Image -->
	<div class="bg-image bg-parallax overlay" style="background-image:url(./img/home-background.jpg)"></div>
	<!-- /Backgound Image -->

	<div class="home-wrapper">
		<div class="container">
			<div class="row">
				<div class="col-md-8">
					<h1 class="white-text">Eden School</h1>
					<p class="lead white-text">We envision a better, brighter India to be realized in the minds and hearts of our students.
					</p>
					<p class="lead white-text" id='welcome_user'></p>
				</div>
			</div>
		</div>
	</div>

</div>
<!-- /Home -->

<!-- About -->
<div id="about" class="section">

	<!-- container -->
	<div class="container">

		<!-- row -->
		<div class="row">

			<div class="col-md-6">
				<div class="section-header">
					<h2>Welcome to Eden</h2>
				</div>

				<!-- feature -->
				<div class="feature">
					<i class="feature-icon fa fa-flask"></i>
					<div class="feature-content">
						<h4>Latest Events</h4>
						<p><br></p>
					</div>
				</div>
				<!-- /feature -->

				<!-- feature -->
				<div class="feature">
					<i class="feature-icon fa fa-users"></i>
					<div class="feature-content">
						<h4>Announcement</h4>
						<p><br></p>
					</div>
				</div>
				<!-- /feature -->

				<!-- feature -->
				<div class="feature">
					<i class="feature-icon fa fa-comments"></i>
					<div class="feature-content">
						<h4>Download</h4>
						<p></p>
					</div>
				</div>
				<!-- /feature -->

			</div>

			<div class="col-md-6">
				<div class="about-img">
					<img src="./img/about.png" alt="">
				</div>
			</div>

		</div>
		<!-- row -->

	</div>
	<!-- container -->
</div>
<!-- /About -->


<div id="cta" class="section">

	<!-- Backgound Image -->
	<div class="bg-image bg-parallax overlay" style="background-image:url(./img/cta1-background.jpg)"></div>
	<!-- /Backgound Image -->

	<!-- container -->
	<div class="container">

		<!-- row -->
		<div class="row">

			<div class="col-md-10">
				<h2 class="white-text">Student's Speak</h2>
				<p class="lead white-text">
"I have been infused with Eden's spirit. This spirit, an amalgamation of the feelings of oneness and belonging, with a healthy competitive streak mixed in for good measure, is the reason we perform exceptionally well at inter-school fests and sporting events. There is never a dearth of cheerleaders here, and everyone has got each other’s back!
Days here overflow with opportunities to hone our skills, and with challenges that chip away at our base qualities, ensuring that we are no longer diamonds in the rough. I am utterly grateful for the elocution, drama, creative writing, quiz and dance competitions- events that made me shed my inhibitions and helped me discover the wings I never thought I had. It is the people who make our school what it is. Principal, teachers, students and staff collectively personify the commendable qualities of excellence, sincerity, and perseverance. The quality of education here, which places equal emphasis on academics, moral studies and the all-round development of the students, spurs Hiraites to aim for the stars, with their feet planted firmly on the ground."</p>

			</div>

		</div>
		<!-- /row -->

	</div>
	<!-- /container -->

</div>
<!-- /Call To Action -->

<!-- Why us -->
<div id="why-us" class="section">

	<!-- container -->
	<div class="container">

		<!-- row -->
		<div class="row">
			<div class="section-header text-center">
				<h2>Why Edusite</h2>
				<p class="lead">Libris vivendo eloquentiam ex ius, nec id splendide abhorreant.</p>
			</div>

			<!-- feature -->
			<div class="col-md-4">
				<div class="feature">
					<i class="feature-icon fa fa-flask"></i>
					<div class="feature-content">
						<h4>Online Courses</h4>
						<p>Ceteros fuisset mei no, soleat epicurei adipiscing ne vis. Et his suas veniam nominati.</p>
					</div>
				</div>
			</div>
			<!-- /feature -->

			<!-- feature -->
			<div class="col-md-4">
				<div class="feature">
					<i class="feature-icon fa fa-users"></i>
					<div class="feature-content">
						<h4>Expert Teachers</h4>
						<p>Ceteros fuisset mei no, soleat epicurei adipiscing ne vis. Et his suas veniam nominati.</p>
					</div>
				</div>
			</div>
			<!-- /feature -->

			<!-- feature -->
			<div class="col-md-4">
				<div class="feature">
					<i class="feature-icon fa fa-comments"></i>
					<div class="feature-content">
						<h4>Community</h4>
						<p>Ceteros fuisset mei no, soleat epicurei adipiscing ne vis. Et his suas veniam nominati.</p>
					</div>
				</div>
			</div>
			<!-- /feature -->

		</div>
		<!-- /row -->

		<hr class="section-hr">

		<!-- row -->
		<div class="row">

			<div class="col-md-6">
				<h3>Persius imperdiet incorrupte et qui, munere nusquam et nec.</h3>
				<p class="lead">Libris vivendo eloquentiam ex ius, nec id splendide abhorreant.</p>
				<p>No vel facete sententiae, quodsi dolores no quo, pri ex tamquam interesset necessitatibus. Te denique cotidieque delicatissimi sed. Eu doming epicurei duo. Sit ea perfecto deseruisse theophrastus. At sed malis hendrerit, elitr deseruisse in sit, sit ei facilisi mediocrem.</p>
			</div>

			<div class="col-md-5 col-md-offset-1">
				<a class="about-video" href="#">
					<img src="./img/about-video.jpg" alt="">
					<i class="play-icon fa fa-play"></i>
				</a>
			</div>

		</div>
		<!-- /row -->

	</div>
	<!-- /container -->

</div>
<!-- /Why us -->

<!-- Contact CTA -->
<div id="contact-cta" class="section">

	<!-- Backgound Image -->
	<div class="bg-image bg-parallax overlay" style="background-image:url(./img/cta2-background.jpg)"></div>
	<!-- Backgound Image -->

	<!-- container -->
	<div class="container">

		<!-- row -->
		<div class="row">

			<div class="col-md-8 col-md-offset-2 text-center">
				<h2 class="white-text">Contact Us</h2>
				<p class="lead white-text">Libris vivendo eloquentiam ex ius, nec id splendide abhorreant.</p>
				<a class="main-button icon-button" href="#">Contact Us Now</a>
			</div>

		</div>
		<!-- /row -->

	</div>
	<!-- /container -->

</div>
<!-- /Contact CTA -->

<!-- Footer -->
<footer id="footer" class="section">

	<!-- container -->
	<div class="container">

		<!-- row -->
		<div class="row">
		</div>
		<!-- /row -->

		<!-- row -->
		<div id="bottom-footer" class="row">

			<!-- social -->
			<div class="col-md-4 col-md-push-8">
				<ul class="footer-social">
					<li><a href="#" class="facebook"><i class="fa fa-facebook"></i></a></li>
					<li><a href="#" class="twitter"><i class="fa fa-twitter"></i></a></li>
					<li><a href="#" class="google-plus"><i class="fa fa-google-plus"></i></a></li>
					<li><a href="#" class="instagram"><i class="fa fa-instagram"></i></a></li>
					<li><a href="#" class="youtube"><i class="fa fa-youtube"></i></a></li>
					<li><a href="#" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
				</ul>
			</div>
			<!-- /social -->

			<!-- copyright -->
			<div class="col-md-8 col-md-pull-4">
				<div class="footer-copyright">
				</div>
			</div>
			<!-- /copyright -->

		</div>
		<!-- row -->

	</div>
	<!-- /container -->

</footer>
<!-- /Footer -->

<!-- preloader -->
<div id='preloader'><div class='preloader'></div></div>
<!-- /preloader -->


<!-- jQuery Plugins -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/main.js"></script>

<!-- esapi4js dependencies -->
<script type="text/javascript" language="JavaScript" src="/esapi4js/lib/log4js.js"></script>
<!-- esapi4js core -->
<script type="text/javascript" language="JavaScript" src="/esapi4js/esapi.js"></script>
<!-- esapi4js i18n resources -->
<script type="text/javascript" language="JavaScript" src="/esapi4js/resources/i18n/ESAPI_Standard_en_US.properties.js"></script>
<!-- esapi4js configuration -->
<script type="text/javascript" language="JavaScript" src="/esapi4js/resources/Base.esapi.properties.js"></script>

<script>
$(function(){
  $("#include_assignment_modal").load("upload_assignment_modal.html");
	$("#include_notes_modal").load("upload_notes_modal.html");
	$("#include_videos_modal").load("upload_videos_modal.html");
	$("#include_login_modal").load("login_modal.html");
	$("#include_add_course_modal").load("add_course.html");
	$("#include_add_department_modal").load("add_department.html");
	$("#include_add_event_modal").load("add_event.html");
	$("#include_update_course_modal").load("update_course.html");
	$("#include_update_department_modal").load("update_department.html");
	$("#include_update_event_modal").load("update_event.html");

});
</script>

<script>
$(document).ready(function() {
						var options = {
										beforeSubmit: showRequest, // pre-submit callback
										success: showResponse // post-submit callback
									}; // bind to the form's submit event
						$('#assignmentFrmUploader').submit(function () {
							$(this).ajaxSubmit(options); // always return false to prevent standard browser submit and page navigation
							return false;
							});

							$('#frmUploader').submit(function () {
								$(this).ajaxSubmit(options); // always return false to prevent standard browser submit and page navigation
								return false;
								});


						});
function showRequest(formData, jqForm, options) { alert('Uploading is starting.'); return true; } // pre-submit callback
function showResponse(responseText, statusText, xhr, $form) { alert('status: ' + statusText + '\n\nresponseText: \n' + responseText ); } // post-submit callback


let url="/api/get_user";
		fetch(url).then(response => response.json())
		.then( (result) => {
				console.log('success:', result);
				let login = document.getElementById('login');
				let logout = document.getElementById('logout');
				let view_details =document.getElementById('view_details');
				let upload_li = document.getElementById('upload_li');
				let add_li = document.getElementById('add_li');
				let update_li =document.getElementById('update_li');

				let welcome_user = document.getElementById('welcome_user');
				welcome_user.innerHTML = `Welcome ${result.user.fname}!`;

				login.style.display = 'none';
				logout.style.display = 'block';
				view_details.style.display = 'block';

				let role = `${result.user.role}`;
				if(role == "FACULTY"){
					upload_li.style.display = 'block';
				}
				if(role == "ADMIN"){
					update_li.style.display = 'block';
					add_li.style.display = 'block';
				}

			//	div.innerHTML=`name: ${result.user.fname}<br/>username: ${result.user.username}`;
		})
		.catch(error => {
			let login = document.getElementById('login');
			let logout = document.getElementById('logout');
			let view_details =document.getElementById('view_details');
			let upload_li = document.getElementById('upload_li');
			let add_li =document.getElementById('add_li');
			let update_li =document.getElementById('update_li');
			login.style.display = 'block';
			logout.style.display = 'none';
			view_details.style.display = 'none';
			upload_li.style.display = 'none';
			update_li.style.display = 'none';
			add_li.style.display = 'none';
			console.log('error:', error);
		});

		let url_1="/api/get_courses_list";
				fetch(url_1).then(response => response.json())
				.then( (result) => {
						console.log('success:', result);
						let course_list = document.getElementById('course_list');

						var i;
						let text;
						for (i = 0; i < result.courses.length; i++) {
						  text += `<option value="${result.courses[i].course_name}"> `;
							text += `\n`;
						}
						course_list.innerHTML = text;
				})
				.catch(error => {
					console.log('error:', error);
				});

			let url_2="/api/get_faculty_list";
					fetch(url_2).then(response => response.json())
					.then( (result) => {
							console.log('success:', result);
							let faculty_list = document.getElementById('faculty_list');

							var i;
							let text;
							for (i = 0; i < result.faculty_list.length; i++) {
							  text += `<option value="${result.faculty_list[i].fname} ${result.faculty_list[i].lname}"> `;
								text += `\n`;
							}
							faculty_list.innerHTML = text;
					})
					.catch(error => {
						console.log('error:', error);
					});

				let url_3="/api/get_department_list";
						fetch(url_3).then(response => response.json())
						.then( (result) => {
								console.log('success:', result);
								let department_list = document.getElementById('department_list');

								var i;
								let text;
								for (i = 0; i < result.department_list.length; i++) {
								  text += `<option value="${result.department_list[i].department_name}"> `;
									text += `\n`;
								}
								department_list.innerHTML = text;
						})
						.catch(error => {
							console.log('error:', error);
						});
</script>


<script>


var now = new Date(),
    minDate = now.toISOString().substring(0,10);

$('#Edate').prop('min', minDate);

</script>

<script type="text/javascript" language="JavaScript">
Base.esapi.properties.logging[’ApplicationLogger’] = {
Level: org.owasp.esapi.Logger.ALL,
Appenders: [ new Log4js.ConsoleAppender() ],
LogUrl: true,
LogApplicationName: true,
EncodingRequired: true
};

Base.esapi.properties.application.Name = "My Application v1.0";
org.owasp.esapi.ESAPI.initialize();
 $ESAPI.logger(’ApplicationLogger’).info(org.owasp.esapi.Logger.EventType.
EVENT_SUCCESS, ’This is a test message’);
 document.writeln( $ESAPI.encoder().encodeForHTML( "<a href=\"http://owaspesapi-js.googlecode.com\">Check out esapi4js</a>" ) );
 var validateCreditCard = function() {
	return $ESAPI.validator().isValidCreditCard( $(’CreditCard’).value );
}
</script>

<script>


function f(){
	console.log("Entered f");
	let url="/api/get_token";
      fetch(url).then(response => response.json())
      .then( (result) => {
          console.log('success:', result)
          let div=document.getElementById('test');
          div.innerHTML=`name: ${result.user.fname}<br/>token: ${result.token}`;
      })
      .catch(error => console.log('error:', error));
}

</script>

</body>
</html>
